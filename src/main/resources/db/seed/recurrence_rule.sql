-- ============================================
-- 반복 규칙 (recurrence_rule)
-- repeat_type: ONCE, DAILY, WEEKLY, MONTHLY, CUSTOM
-- days_of_week: 1(월) ~ 7(일), JSON 배열 형태
-- days_of_month: 1 ~ 31, JSON 배열 형태
-- times_of_day: HH:MM 형태, JSON 배열 형태
-- ============================================

-- 기본 반복 규칙 (1~20번): 다양한 패턴의 반복 규칙
INSERT INTO `recurrence_rule` (`recurrence_rule_id`, `repeat_type`, `repeat_interval`, `days_of_week`,
                               `days_of_month`, `times_of_day`, `readable_rule`, `start_at`, `end_at`, `created_at`,
                               `updated_at`)
VALUES
-- ONCE (한 번만 실행)
(1, 'ONCE', 1, NULL, NULL, '["14:00"]', '2024-12-24 14:00에 1회만 실행',
 '2024-12-24 00:00:00', '2024-12-24 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

-- DAILY (매일 아침/점심/저녁)
(2, 'DAILY', 1, NULL, NULL, '["09:00", "18:00"]', '매일 09:00, 18:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(3, 'DAILY', 1, NULL, NULL, '["08:00", "12:00", "20:00"]', '매일 08:00, 12:00, 20:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(4, 'DAILY', 2, NULL, NULL, '["10:00"]', '2일마다 10:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(5, 'DAILY', 3, NULL, NULL, '["15:00"]', '3일마다 15:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

-- WEEKLY (주간 반복 - 평일)
(6, 'WEEKLY', 1, '[1,2,3,4,5]', NULL, '["09:00"]', '매주 평일(월~금) 09:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(7, 'WEEKLY', 1, '[1,3,5]', NULL, '["10:00"]', '매주 월, 수, 금요일 10:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(8, 'WEEKLY', 1, '[2,4]', NULL, '["14:00"]', '매주 화, 목요일 14:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(9, 'WEEKLY', 1, '[6,7]', NULL, '["11:00"]', '매주 주말(토, 일) 11:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(10, 'WEEKLY', 2, '[1]', NULL, '["09:00", "18:00"]', '2주마다 월요일 09:00, 18:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

-- MONTHLY (월간 반복)
(11, 'MONTHLY', 1, NULL, '[1]', '["09:00"]', '매월 1일 09:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(12, 'MONTHLY', 1, NULL, '[1,15]', '["10:00"]', '매월 1일, 15일 10:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(13, 'MONTHLY', 1, NULL, '[10,20,30]', '["14:00"]', '매월 10일, 20일, 30일 14:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(14, 'MONTHLY', 2, NULL, '[1]', '["09:00"]', '2개월마다 1일 09:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(15, 'MONTHLY', 1, NULL, '[5,15,25]', '["09:00", "18:00"]', '매월 5일, 15일, 25일 09:00, 18:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

-- CUSTOM (사용자 정의 - 복잡한 패턴)
(16, 'CUSTOM', 1, '[1,3,5]', NULL, '["09:00", "12:00", "18:00"]', '매주 월, 수, 금요일 09:00, 12:00, 18:00에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(17, 'CUSTOM', 1, '[1,2,3,4,5]', NULL, '["08:00", "13:00", "19:00"]', '평일 오전 8시, 오후 1시, 저녁 7시에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(18, 'CUSTOM', 1, '[6,7]', NULL, '["10:00", "16:00"]', '주말 오전 10시, 오후 4시에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(19, 'CUSTOM', 2, '[1]', NULL, '["09:00"]', '격주 월요일 아침 9시에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00'),

(20, 'CUSTOM', 1, NULL, '[1,10,20]', '["08:00", "20:00"]', '매월 1일, 10일, 20일 오전 8시, 저녁 8시에 실행',
 '2024-12-24 00:00:00', '2025-12-31 23:59:59', '2024-12-24 00:00:00', '2024-12-24 00:00:00');

-- 추가 반복 규칙 (21~100번): 대량 데이터 생성
INSERT INTO `recurrence_rule` (`repeat_type`, `repeat_interval`, `days_of_week`, `days_of_month`, `times_of_day`,
                               `readable_rule`, `start_at`, `end_at`, `created_at`, `updated_at`)
SELECT
    CASE (seq % 5)
        WHEN 0 THEN 'DAILY'
        WHEN 1 THEN 'WEEKLY'
        WHEN 2 THEN 'MONTHLY'
        WHEN 3 THEN 'CUSTOM'
        ELSE 'DAILY'
    END as repeat_type,

    CASE (seq % 3)
        WHEN 0 THEN 1
        WHEN 1 THEN 2
        ELSE 3
    END as repeat_interval,

    CASE (seq % 7)
        WHEN 0 THEN '[1,2,3,4,5]'  -- 평일
        WHEN 1 THEN '[1,3,5]'      -- 월수금
        WHEN 2 THEN '[2,4]'        -- 화목
        WHEN 3 THEN '[6,7]'        -- 주말
        WHEN 4 THEN '[1]'          -- 월요일만
        WHEN 5 THEN '[5]'          -- 금요일만
        ELSE NULL
    END as days_of_week,

    CASE (seq % 5)
        WHEN 0 THEN '[1]'
        WHEN 1 THEN '[1,15]'
        WHEN 2 THEN '[10,20,30]'
        WHEN 3 THEN '[5,15,25]'
        ELSE NULL
    END as days_of_month,

    CASE (seq % 6)
        WHEN 0 THEN '["09:00"]'
        WHEN 1 THEN '["09:00", "18:00"]'
        WHEN 2 THEN '["08:00", "12:00", "20:00"]'
        WHEN 3 THEN '["10:00"]'
        WHEN 4 THEN '["14:00"]'
        ELSE '["11:00", "17:00"]'
    END as times_of_day,

    CONCAT('자동 생성 규칙 #', seq) as readable_rule,

    DATE_ADD('2024-12-24 00:00:00', INTERVAL FLOOR(RAND() * 30) DAY) as start_at,
    '2025-12-31 23:59:59' as end_at,
    NOW() as created_at,
    NOW() as updated_at
FROM (
    SELECT @row := @row + 1 as seq
    FROM (SELECT 0 UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4
          UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7 UNION ALL SELECT 8 UNION ALL SELECT 9) t1,
         (SELECT 0 UNION ALL SELECT 1 UNION ALL SELECT 2 UNION ALL SELECT 3 UNION ALL SELECT 4
          UNION ALL SELECT 5 UNION ALL SELECT 6 UNION ALL SELECT 7) t2,
         (SELECT @row := 20) r
    WHERE @row < 100
) nums;
