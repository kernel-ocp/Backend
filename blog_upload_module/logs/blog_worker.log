2025-12-23 10:26:50 - INFO - RabbitMQ 연결 시도 host=localhost port=5672 queue=blog-upload-queue
2025-12-23 10:26:50 - INFO - RabbitMQ 소비 시작 (queue=blog-upload-queue)
2025-12-23 10:26:50 - INFO - 메시지 수신: delivery_tag=1
2025-12-23 10:26:50 - INFO - 워크 46 업로드 시작 (platform=naver, isTest=True)
2025-12-23 10:27:32 - INFO - 업로드 결과 URL 없음
2025-12-23 10:27:32 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=SUCCESS
2025-12-23 10:27:32 - WARNING - 웹훅 전송 실패(work_id=46)
2025-12-23 12:12:01 - INFO - RabbitMQ 연결 시도 host=localhost port=5672 queue=blog-upload-queue
2025-12-23 12:12:01 - INFO - RabbitMQ 소비 시작 (queue=blog-upload-queue)
2025-12-23 12:12:01 - INFO - 메시지 수신: delivery_tag=1
2025-12-23 12:12:01 - INFO - 워크 9 업로드 시작 (platform=naver, isTest=True)
2025-12-23 12:12:18 - INFO - 업로드 결과 URL 없음
2025-12-23 12:12:18 - ERROR - 업로드 실패(work_id=9): 테스트 요청으로 최종 발행을 생략했습니다.
2025-12-23 12:12:18 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-23 12:17:34 - INFO - 메시지 수신: delivery_tag=2
2025-12-23 12:17:34 - INFO - 워크 10 업로드 시작 (platform=naver, isTest=True)
2025-12-23 12:18:01 - INFO - 업로드 결과 URL 없음
2025-12-23 12:18:01 - ERROR - 업로드 실패(work_id=10): 테스트 요청으로 최종 발행을 생략했습니다.
2025-12-23 12:18:01 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-23 13:32:10 - INFO - 메시지 수신: delivery_tag=3
2025-12-23 13:32:10 - INFO - 워크 11 업로드 시작 (platform=tistory, isTest=True)
2025-12-23 13:33:07 - INFO - 업로드 결과 URL 없음
2025-12-23 13:33:07 - ERROR - 업로드 실패(work_id=11): 테스트 요청으로 최종 발행을 생략했습니다.
2025-12-23 13:33:07 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-23 13:37:24 - INFO - 메시지 수신: delivery_tag=4
2025-12-23 13:37:24 - INFO - 워크 12 업로드 시작 (platform=naver, isTest=True)
2025-12-23 13:37:52 - INFO - 업로드 결과 URL 없음
2025-12-23 13:37:52 - ERROR - 업로드 실패(work_id=12): 테스트 요청으로 최종 발행을 생략했습니다.
2025-12-23 13:37:52 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-23 13:58:20 - INFO - 메시지 수신: delivery_tag=5
2025-12-23 13:58:20 - INFO - 워크 13 업로드 시작 (platform=naver, isTest=True)
2025-12-23 13:58:49 - INFO - 업로드 결과 URL 없음
2025-12-23 13:58:49 - ERROR - 업로드 실패(work_id=13): 테스트 요청으로 최종 발행을 생략했습니다.
2025-12-23 13:58:49 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-23 14:08:30 - INFO - 메시지 수신: delivery_tag=6
2025-12-23 14:08:30 - INFO - 워크 14 업로드 시작 (platform=naver, isTest=True)
2025-12-23 14:08:57 - INFO - 업로드 결과 URL 없음
2025-12-23 14:08:57 - ERROR - 업로드 실패(work_id=14): 테스트 요청으로 최종 발행을 생략했습니다.
2025-12-23 14:08:57 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-23 14:14:17 - INFO - 메시지 수신: delivery_tag=7
2025-12-23 14:14:17 - INFO - 워크 15 업로드 시작 (platform=naver, isTest=True)
2025-12-23 14:14:44 - INFO - 업로드 결과 URL 없음
2025-12-23 14:14:44 - ERROR - 업로드 실패(work_id=15): 테스트 요청으로 최종 발행을 생략했습니다.
2025-12-23 14:14:44 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-23 14:22:55 - INFO - RabbitMQ 연결 시도 host=localhost port=5672 queue=blog-upload-queue
2025-12-23 14:22:55 - INFO - RabbitMQ 소비 시작 (queue=blog-upload-queue)
2025-12-23 14:26:31 - INFO - 메시지 수신: delivery_tag=1
2025-12-23 14:26:31 - INFO - 워크 16 업로드 시작 (platform=naver, isTest=True)
2025-12-23 14:26:58 - INFO - 업로드 결과 URL 없음
2025-12-23 14:26:58 - ERROR - 업로드 실패(work_id=16): 테스트 요청으로 최종 발행을 생략했습니다.
2025-12-23 14:26:58 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-23 14:32:41 - INFO - 메시지 수신: delivery_tag=2
2025-12-23 14:32:41 - INFO - 워크 17 업로드 시작 (platform=tistory, isTest=True)
2025-12-23 14:33:38 - INFO - 업로드 결과 URL 없음
2025-12-23 14:33:38 - ERROR - 업로드 실패(work_id=17): 테스트 요청으로 최종 발행을 생략했습니다.
2025-12-23 14:33:38 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-23 14:40:51 - INFO - 메시지 수신: delivery_tag=3
2025-12-23 14:40:51 - INFO - 워크 18 업로드 시작 (platform=naver, isTest=True)
2025-12-23 14:41:20 - INFO - 업로드 결과 URL 없음
2025-12-23 14:41:20 - ERROR - 업로드 실패(work_id=18): 테스트 요청으로 최종 발행을 생략했습니다.
2025-12-23 14:41:20 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-23 17:17:12 - INFO - 메시지 수신: delivery_tag=4
2025-12-23 17:17:12 - INFO - 워크 19 업로드 시작 (platform=naver, isTest=True)
2025-12-23 17:17:38 - INFO - 업로드 결과 URL 없음
2025-12-23 17:17:38 - ERROR - 업로드 실패(work_id=19): 테스트 요청으로 최종 발행을 생략했습니다.
2025-12-23 17:17:38 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-23 18:07:07 - INFO - 메시지 수신: delivery_tag=5
2025-12-23 18:07:07 - INFO - 워크 20 업로드 시작 (platform=naver, isTest=True)
2025-12-23 18:07:33 - INFO - 업로드 결과 URL 없음
2025-12-23 18:07:33 - ERROR - 업로드 실패(work_id=20): 테스트 요청으로 최종 발행을 생략했습니다.
2025-12-23 18:07:33 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-23 18:11:21 - INFO - 메시지 수신: delivery_tag=6
2025-12-23 18:11:21 - INFO - 워크 21 업로드 시작 (platform=tistory, isTest=True)
2025-12-23 18:12:18 - INFO - 업로드 결과 URL 없음
2025-12-23 18:12:18 - ERROR - 업로드 실패(work_id=21): 테스트 요청으로 최종 발행을 생략했습니다.
2025-12-23 18:12:18 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-23 18:22:17 - INFO - 메시지 수신: delivery_tag=7
2025-12-23 18:22:17 - INFO - 워크 22 업로드 시작 (platform=tistory, isTest=True)
2025-12-23 18:23:14 - INFO - 업로드 결과 URL 없음
2025-12-23 18:23:14 - ERROR - 업로드 실패(work_id=22): 테스트 요청으로 최종 발행을 생략했습니다.
2025-12-23 18:23:14 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-23 18:29:38 - INFO - RabbitMQ 연결 시도 host=localhost port=5672 queue=blog-upload-queue
2025-12-23 18:29:38 - INFO - RabbitMQ 소비 시작 (queue=blog-upload-queue)
2025-12-23 18:37:09 - INFO - 메시지 수신: delivery_tag=1
2025-12-23 18:37:09 - INFO - 워크 23 업로드 시작 (platform=tistory, isTest=True)
2025-12-23 18:37:54 - INFO - 업로드 결과 URL 없음
2025-12-23 18:37:54 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=SUCCESS
2025-12-23 18:54:23 - INFO - 메시지 수신: delivery_tag=2
2025-12-23 18:54:23 - INFO - 워크 24 업로드 시작 (platform=tistory, isTest=True)
2025-12-23 18:55:10 - INFO - 업로드 결과 URL 없음
2025-12-23 18:55:10 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=SUCCESS
2025-12-25 09:00:23 - INFO - 메시지 수신: delivery_tag=3
2025-12-25 09:00:23 - INFO - 워크 25 업로드 시작 (platform=tistory, isTest=False)
2025-12-25 09:17:13 - INFO - 업로드 결과 URL 없음
2025-12-25 09:17:13 - ERROR - 업로드 실패(work_id=25): None
2025-12-25 09:17:13 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-25 09:17:13 - ERROR - 업로드 처리 중 오류: Transport indicated EOF
Traceback (most recent call last):
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 91, in _on_message
    ch.basic_ack(delivery_tag=method.delivery_tag)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 2130, in basic_ack
    self._flush_output()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 1353, in _flush_output
    self._connection._flush_output(lambda: self.is_closed, *waiters)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 523, in _flush_output
    raise self._closed_result.value.error
pika.exceptions.StreamLostError: Transport indicated EOF
2025-12-25 09:17:13 - ERROR - 예상치 못한 오류로 워커가 중단되었습니다. 5초 후 재시작합니다.
Traceback (most recent call last):
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 91, in _on_message
    ch.basic_ack(delivery_tag=method.delivery_tag)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 2130, in basic_ack
    self._flush_output()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 1353, in _flush_output
    self._connection._flush_output(lambda: self.is_closed, *waiters)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 523, in _flush_output
    raise self._closed_result.value.error
pika.exceptions.StreamLostError: Transport indicated EOF

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 105, in run_consumer
    consumer.start()
    ~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 74, in start
    self._channel.start_consuming()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 1883, in start_consuming
    self._process_data_events(time_limit=None)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 2044, in _process_data_events
    self.connection.process_data_events(time_limit=time_limit)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 851, in process_data_events
    self._dispatch_channel_events()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 567, in _dispatch_channel_events
    impl_channel._get_cookie()._dispatch_events()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 1510, in _dispatch_events
    consumer_info.on_message_callback(self, evt.method,
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
                                      evt.properties, evt.body)
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 97, in _on_message
    ch.basic_nack(delivery_tag=method.delivery_tag, requeue=False)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 2151, in basic_nack
    self._impl.basic_nack(
    ~~~~~~~~~~~~~~~~~~~~~^
        delivery_tag=delivery_tag, multiple=multiple, requeue=requeue)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/channel.py", line 401, in basic_nack
    self._raise_if_not_open()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/channel.py", line 1403, in _raise_if_not_open
    raise exceptions.ChannelWrongStateError('Channel is closed.')
pika.exceptions.ChannelWrongStateError: Channel is closed.
2025-12-25 09:17:18 - INFO - RabbitMQ 연결 시도 host=localhost port=5672 queue=blog-upload-queue
2025-12-25 09:17:18 - INFO - RabbitMQ 소비 시작 (queue=blog-upload-queue)
2025-12-25 09:17:18 - INFO - 메시지 수신: delivery_tag=1
2025-12-25 09:17:18 - INFO - 워크 25 업로드 시작 (platform=tistory, isTest=False)
2025-12-25 10:00:30 - INFO - 업로드 결과 URL 없음
2025-12-25 10:00:30 - ERROR - 업로드 실패(work_id=25, errorCode=UPLOAD_UNKNOWN_ERROR): 티스토리 블로그 업로드 중 알 수 없는 오류가 발생했습니다.
2025-12-25 10:00:30 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-25 10:00:30 - ERROR - 업로드 처리 중 오류: Transport indicated EOF
Traceback (most recent call last):
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 91, in _on_message
    ch.basic_ack(delivery_tag=method.delivery_tag)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 2130, in basic_ack
    self._flush_output()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 1353, in _flush_output
    self._connection._flush_output(lambda: self.is_closed, *waiters)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 523, in _flush_output
    raise self._closed_result.value.error
pika.exceptions.StreamLostError: Transport indicated EOF
2025-12-25 10:00:30 - ERROR - 예상치 못한 오류로 워커가 중단되었습니다. 5초 후 재시작합니다.
Traceback (most recent call last):
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 91, in _on_message
    ch.basic_ack(delivery_tag=method.delivery_tag)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 2130, in basic_ack
    self._flush_output()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 1353, in _flush_output
    self._connection._flush_output(lambda: self.is_closed, *waiters)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 523, in _flush_output
    raise self._closed_result.value.error
pika.exceptions.StreamLostError: Transport indicated EOF

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 105, in run_consumer
    consumer.start()
    ~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 74, in start
    self._channel.start_consuming()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 1883, in start_consuming
    self._process_data_events(time_limit=None)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 2044, in _process_data_events
    self.connection.process_data_events(time_limit=time_limit)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 851, in process_data_events
    self._dispatch_channel_events()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 567, in _dispatch_channel_events
    impl_channel._get_cookie()._dispatch_events()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 1510, in _dispatch_events
    consumer_info.on_message_callback(self, evt.method,
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
                                      evt.properties, evt.body)
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 97, in _on_message
    ch.basic_nack(delivery_tag=method.delivery_tag, requeue=False)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 2151, in basic_nack
    self._impl.basic_nack(
    ~~~~~~~~~~~~~~~~~~~~~^
        delivery_tag=delivery_tag, multiple=multiple, requeue=requeue)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/channel.py", line 401, in basic_nack
    self._raise_if_not_open()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/channel.py", line 1403, in _raise_if_not_open
    raise exceptions.ChannelWrongStateError('Channel is closed.')
pika.exceptions.ChannelWrongStateError: Channel is closed.
2025-12-25 10:00:35 - INFO - RabbitMQ 연결 시도 host=localhost port=5672 queue=blog-upload-queue
2025-12-25 10:00:35 - INFO - RabbitMQ 소비 시작 (queue=blog-upload-queue)
2025-12-25 10:00:35 - INFO - 메시지 수신: delivery_tag=1
2025-12-25 10:00:35 - INFO - 워크 25 업로드 시작 (platform=tistory, isTest=False)
2025-12-25 10:47:08 - INFO - 업로드 결과 URL 없음
2025-12-25 10:47:08 - ERROR - 업로드 실패(work_id=25, errorCode=UPLOAD_UNKNOWN_ERROR): 티스토리 블로그 업로드 중 알 수 없는 오류가 발생했습니다.
2025-12-25 10:47:08 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
2025-12-25 10:47:08 - ERROR - 업로드 처리 중 오류: Transport indicated EOF
Traceback (most recent call last):
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 91, in _on_message
    ch.basic_ack(delivery_tag=method.delivery_tag)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 2130, in basic_ack
    self._flush_output()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 1353, in _flush_output
    self._connection._flush_output(lambda: self.is_closed, *waiters)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 523, in _flush_output
    raise self._closed_result.value.error
pika.exceptions.StreamLostError: Transport indicated EOF
2025-12-25 10:47:08 - ERROR - 예상치 못한 오류로 워커가 중단되었습니다. 5초 후 재시작합니다.
Traceback (most recent call last):
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 91, in _on_message
    ch.basic_ack(delivery_tag=method.delivery_tag)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 2130, in basic_ack
    self._flush_output()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 1353, in _flush_output
    self._connection._flush_output(lambda: self.is_closed, *waiters)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 523, in _flush_output
    raise self._closed_result.value.error
pika.exceptions.StreamLostError: Transport indicated EOF

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 105, in run_consumer
    consumer.start()
    ~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 74, in start
    self._channel.start_consuming()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 1883, in start_consuming
    self._process_data_events(time_limit=None)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 2044, in _process_data_events
    self.connection.process_data_events(time_limit=time_limit)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 851, in process_data_events
    self._dispatch_channel_events()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 567, in _dispatch_channel_events
    impl_channel._get_cookie()._dispatch_events()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 1510, in _dispatch_events
    consumer_info.on_message_callback(self, evt.method,
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
                                      evt.properties, evt.body)
                                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/src/blog_worker/rabbit_consumer.py", line 97, in _on_message
    ch.basic_nack(delivery_tag=method.delivery_tag, requeue=False)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/adapters/blocking_connection.py", line 2151, in basic_nack
    self._impl.basic_nack(
    ~~~~~~~~~~~~~~~~~~~~~^
        delivery_tag=delivery_tag, multiple=multiple, requeue=requeue)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/channel.py", line 401, in basic_nack
    self._raise_if_not_open()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/user/Documents/OCP/Backend/blog_upload_module/venv/lib/python3.13/site-packages/pika/channel.py", line 1403, in _raise_if_not_open
    raise exceptions.ChannelWrongStateError('Channel is closed.')
pika.exceptions.ChannelWrongStateError: Channel is closed.
2025-12-25 10:47:13 - INFO - RabbitMQ 연결 시도 host=localhost port=5672 queue=blog-upload-queue
2025-12-25 10:47:13 - INFO - RabbitMQ 소비 시작 (queue=blog-upload-queue)
2025-12-25 10:47:13 - INFO - 메시지 수신: delivery_tag=1
2025-12-25 10:47:13 - INFO - 워크 25 업로드 시작 (platform=tistory, isTest=False)
2025-12-25 10:55:33 - INFO - 업로드 결과 URL 없음
2025-12-25 10:55:33 - ERROR - 업로드 실패(work_id=25): None
2025-12-25 10:55:33 - INFO - 웹훅 전송: url=http://localhost:8080/api/v1/work/blog/webhook timeout=5 status=FAILED
